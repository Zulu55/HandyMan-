﻿<AuthorizeView>
    <Authorized>
       <MatAppBarSection Align="@MatAppBarSectionAlign.End">
                <MatIconButton OnClick="@OnClick" RefBack="@buttonForwardRef" Icon="settings"></MatIconButton>
                <MatMenu @ref="Menu"  TargetForwardRef="@buttonForwardRef">
                    <MatList>
                        <MatListItem OnClick="@(() => ShowModalEditUser())">Actualizar Perfil</MatListItem>
                        <MatListItem OnClick="@(() => ShowChangePassword())">Cambiar Contraseña</MatListItem>
                    </MatList>
                </MatMenu>
                <MatBody1 style="margin-top: 1em; margin-right: 1em;">Hola, @context.User.Identity!.Name</MatBody1>
                @if (!string.IsNullOrEmpty(photoUser))
                {
                    <img src="@photoUser" width="25" height="25" style="border-radius:50%" />
                }
                <MatIconButton Link="Logout" Icon="group_add"></MatIconButton>
            </MatAppBarSection>
        <a href="Logout" class="nav-link btn btn-link">Cerrar Sesión</a>
    </Authorized>
    <NotAuthorized>
        <MatAppBarSection Align="@MatAppBarSectionAlign.End">
            <MatIconButton Icon="person" OnClick=@(() => ShowModal())></MatIconButton>
            <MatIconButton Icon="people" OnClick=@(() => ShowModalRegister())></MatIconButton>
        </MatAppBarSection>
    </NotAuthorized>
</AuthorizeView>





  